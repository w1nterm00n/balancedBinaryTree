<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>binary trees...</title>
</head>
<body>
    
</body>
<script>


    class Node {
        constructor(data){
            this.data = data,   //число записанное в нем
            this.right = null, // ссылка на Node справа
            this.left = null   // ссылка на Node слева
        }
        setRight (value) {
            this.right = value;
        }
        setLeft (value) {
            this.left = value;
        }

        
    }

    let treeManipulation = {

        sortArr (arr) {
            //убираю дублирующиеся числа и расставляю по порядку
            arr.sort(function (a, b) {
                return a - b;
            });
            let uniqueArr = [];
            arr.forEach((element) => {
                if (!uniqueArr.includes(element)) {
                    uniqueArr.push(element);
                }
            });
            arr = uniqueArr;
            return arr;
        },

        buildSortedTree (arr) {
            if (arr.length === 0){
                return null;
            }
            let rootIndex = Math.ceil(arr.length/2) - 1;

            let rightSide = [];
            let leftSide = [];
            for (let i = 0; i < rootIndex; i++){
                leftSide.push(arr[i])
            };

            for (let i = rootIndex+1; i < arr.length; i++){
                rightSide.push(arr[i])
            };

            var node = new Node(arr[rootIndex]);
            node.setRight(this.buildSortedTree(rightSide));
            node.setLeft(this.buildSortedTree(leftSide));

            return node;
        },

        makeTree (arr) {
            let sortedArr = this.sortArr(arr);
            return this.buildSortedTree(sortedArr);
        },

        prettyPrint (node, prefix = "", isLeft = true) {
            if (node === null) {
                return;
            }
            if (node.right !== null) {
                this.prettyPrint(node.right, `${prefix}${isLeft ? "│   " : "    "}`, false);
            }
            console.log(`${prefix}${isLeft ? "└── " : "┌── "}${node.data}`);
            if (node.left !== null) {
                this.prettyPrint(node.left, `${prefix}${isLeft ? "    " : "│   "}`, true);
            }
        },


        insert (value, root) {
            if (value == root.data) {
                return
            } else if (value > root.data) {
                //right side
                if (root.right === null) {
                    root.right = new Node(value);
                } else {
                    this.insert(value, root.right);
                }
            } else {
                //left side
                if (root.left === null) {
                    root.left = new Node(value);
                } else {
                    this.insert(value, root.left);
                }
            }
        },

        delete (value) {

        }
    }




    let tree = treeManipulation.makeTree([11, 2, 60, 3, 7, 100, 6]);
    treeManipulation.prettyPrint(tree);

    //1. Write insert and delete functions that accepts a value to insert/delete. 
    //You’ll have to deal with several cases for delete, such as when a node has children or not.

    //2. Write a find function that accepts a value and returns the node with the given value.
</script>
</html>